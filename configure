#!/usr/bin/env python2
from support import config

ENV = config.new_env()

# make the requires below prettier
require = lambda lib='', program='pkg-config': config.require(ENV, lib, program)

require('libevent >= 2.0')
#require('openssl')
require('glib-2.0')
require('taglib_c')

ENV['cflags'] += ' -g -pthread'
ENV['libs'] += ' -lpq'
ENV['ldflags'] += ' -Wl,--no-add-needed'
#ENV['ld'] = 'ld.gold'

config.prefer_cc(ENV, 'clang')

config.generate_config(ENV, 'config.mk')
